<!doctype html>

<!--

Hi there! Thanks for taking a look through my code.

-->

<html lang="en">
<head>
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Roboto:400,700">
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Montserrat:400,700">
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:300">
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lato:100">

<link rel="stylesheet" type="text/css" href="css/default.css">
<script type="text/javascript">
if((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i)) || navigator.userAgent.match(/Android/i)) {
	document.write('<link rel="stylesheet" type="text/css" href="css/mobile.css"/>');
}
</script>
<script type="text/javascript" src="jquery-2.1.0.min.js"></script>

<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="icon" href="favicon.ico" type="image/x-icon">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Kevin Beaulieu</title>
</head>

<body>

	<header class="desktop">
		<ul id="section-link-container">
			<li id="section-link-0" class="section-link section-link-active">home</li><!--
			--><li id="section-link-1" class="section-link">about me</li><!-- Comments needed to eliminate white
			--><li id="section-link-2" class="section-link">cerebrum</li><!-- space between <li> elements
			--><li id="section-link-3" class="section-link">re:member</li>
		</ul>
	</header>
	
	<section id="section-0">
		<canvas id="canvas-0"></canvas>
		<h1 id="title">KEVIN BEAULIEU</h1>
		<div id="scroll-down-indicator-back">
			<div id="scroll-down-indicator-front"></div>
		</div>
		
		<div id="bubbles-tip" class="desktop">I wonder what happens<br />if I click and drag my mouse?...</div>
	</section>
	
	<section id="section-1" class="light">
		<h2>hi, i'm kevin.</h2><!--
		--><p>I am a student at Cornell University studying a mix of computer science, information science, art, psychology and physics. <!--
		-->I am fascinated by the intersection of these fields, and strive to learn how combining them can lead to interesting results. <!--
		-->Without a background in art, it would be difficult for a programmer to design beautiful user interfaces. Without understanding how <!--
		-->people think and interact with their environment, that gorgeous UI will be meaningless if it is awkward to use. <!--
		-->And physics? well, who doesn't love a little quantum mechanics?</p>
	</section>
		
	<section id="section-2" class="dark">
		<h2>cerebrum</h2><!--
		--><table>
			<tr>
				<td><!--
					--><p>Cerebrum is a new kind of reminders app organizing everything on your mind by importance. Your thoughts float on a rotating cloud <!--
					-->so you don't have to keep everything in your head. More important thoughts will appear larger on the cloud so they stand out, with <!--
					-->lower priority items fading away into the background.</p><!--
					--><p>Cerebrum is unique from other reminders and to-do apps because you can add everything on your mind, from homework assignments to <!--
					-->a random idea for a project you want to work on when you find some free time, without hiding what is important. Most reminders apps <!--
					-->display items in a list, but this discourages users from adding anything but the essentials for fear of cluttering up the list.</p>
				</td>
				<td><img src="images/Nexus5_Cerebrum.png"/></td>
			</tr>
		</table>
		
		<div id="show-more-2" class="btn btn-light">
			<span class="btn-inner">See more</span>
			<span class="btn-inner">See more</span>
		</div>
		
		<div id="more-section-2" class="more-section">
			<p>Coming soon :)</p>
		</div>
	</section>
	
	<section id="section-3" class="light">
		<h2>re:member</h2><!--
		--><table>
			<tr>
				<td><img src="images/iPhone5s_Remember.png"/></td>
				<td><!--
					--><p>re:member is a memory game with two modes: matching colors and matching sounds. My focus with this project was to create <!--
					-->a simple game with a beautiful user interface. Finding a matching pair of tiles reveals a particle animation underneath. Transitioning <!--
					-->between menu screens triggers a smooth, sliding animations.</p>
				</td>
			</tr>
		</table>
	</section>
	
	<footer>
			<i>~ Written from scratch in HTML, CSS, and Javascript.<br><!--
			-->Device frames designed in Adobe Illustrator. ~</i>
	</footer>
	
	<script type="text/javascript">
		/*
		 * On page load
		 */
		var is_mobile = false;
		var more_section_indices = new Array();
		var more_section_heights = new Array();
		var canvas = document.getElementById("canvas-0");
		var context = canvas.getContext('2d');
		var t;
		var bubbles = new Array();
		var bubble_density = 0.0125;
		var start_bubbles = 0;

		$(window).load(function(e) {
			/*
			 * Check whether mobile device
			 */
		 	is_mobile = $(".desktop").css("visibility") === "hidden";
			
			/*
			 * Fix logo position
			 */
			var header_height = getHeaderHeight();
			var wh_ratio = 1.42;
			var logo_width = header_height*wh_ratio;
			var logo_jquery = $("header li.logo");
			logo_jquery.css("width", logo_width+"px");
			logo_jquery.css("height", "calc("+header_height+"px - 2em");
			logo_jquery.css("background-size", (logo_width * 0.8) + "px " + (header_height * 0.8) + "px");
			logo_jquery.css("background-position", (logo_width * 0.1) + "px " + (header_height * 0.1) + "px");
			
			/*
			 * Hide more information sections on page load
			 */
			$(".more-section").each(function(index) {
				more_section_indices.push($(this).attr("id").substring(13));
				more_section_heights.push($(this).height());
			});
			$(".more-section").css("height", "0");
			
			/*
			 * Move animatable elements to initial position
			 */
			$("section h2, section p").each(function(i, el) {
				$(el).addClass("animatable");
			});			
						
			/*
			 * Set up canvases
			 */
			canvas.width = document.documentElement.clientWidth;
			canvas.height = window.innerHeight;
			
			/*
			 * Randomly generate bubbles
			 */
			start_bubbles = bubble_density * canvas.width;
			for(var i = 0; i < start_bubbles; i++) {
				generateBubble(false);

			}
			
			/*
			 * Animate in scroll down indicator
			 */
			$("#scroll-down-indicator-back").addClass("scroll-down-indicator-animate-in");
			$("#scroll-down-indicator-back").css("opacity", 1);
			setTimeout(function() {
				$("#scroll-down-indicator-back").removeClass("scroll-down-indicator-animate-in");
			}, 800);
			$("#scroll-down-indicator-back").mouseenter(function() {
				$("#scroll-down-indicator-back").addClass("scroll-down-indicator-hover");
				setTimeout(function() {
					$("#scroll-down-indicator-back").removeClass("scroll-down-indicator-hover");
				}, 400);
			});
		});
		
		$(window).resize(function() {
			canvas.width = document.documentElement.clientWidth;
			canvas.height = window.innerHeight;
		});
		
		/*
		 * Return height of header, or 0 if header is hidden
		 */
		function getHeaderHeight() {
			return ($("header").css("visibility") === "hidden") ? 0 : $("header").height();
		}
		
		/*
		 * On scroll (now called every frame from animate)
		 */
		//$(window).scroll(function(e) {
		function update_scroll() {
			/*
			 * Update header's active section on scroll
			 */
		    var y_pos = $(this).scrollTop() + getHeaderHeight();
		    var section_n = 0;
		    var has_set_section = false;
		    $("section").each(function(index) {	    		
	    		if(!has_set_section) {
		    		var section_y = Math.floor($(this).offset().top + $(this).outerHeight());
		    				    		
		    		if(y_pos < section_y) {
		    			has_set_section = true;
		    		}
		    		else {
		    			section_n++;
		    		}
		    	}
		    });
			
		    $(".section-link-active").removeClass("section-link-active");
		    $("#section-link-"+section_n).addClass("section-link-active");
		    
		    
		    /*
		     * Animate in newly visible elements
		     */
			$(".animatable").each(function(i, el) {
				if ($(el).visible(true) && !$(el).hasClass("animate-in")) {
					$(el).addClass("animate-in");
					$(el).removeClass("animatable");
				}
			});
			
			/*
			 * Update introduction's background color
			 */
			var alpha = 1.0 - (y_pos - getHeaderHeight()) / $("#section-0").height();
			$("#section-0").css("background-color", "rgba(28, 190, 232, "+alpha+")");
			$("#section-0 *").css("opacity", alpha);
		}
		
		/*
		 * Scroll to section on header's section button click
		 * or introduction's scroll down indicator
		 */
		$(".section-link").on("click", function(event) {
			event.preventDefault();
			var section_id = "#section-"+$(this).attr("id").substring(13);
			$("html, body").animate({
				scrollTop:$(section_id).offset().top - getHeaderHeight() + 1
			}, 1000, "swing");
		});
		$("#scroll-down-indicator-back, #scroll-down-indicator-front").on("click", function(event) {
			event.preventDefault();
			$("html, body").animate({
				scrollTop:$("#section-1").offset().top - getHeaderHeight() + 1
			}, 1000, "swing");
		});
		
		/*
		 * Show more information on section 'see more' button click
		 */
		$(".btn-inner").on("click", function(event) {
			event.preventDefault();
			var section_n = $(this).parent().attr("id").substring(10);
			var more_section_id = "#more-section-"+section_n;
			
			if($(more_section_id).css("height") === "0px") {
				var ind = -1;
				for(var i = 0; i < more_section_indices.length && ind == -1; i++) {
					if(more_section_indices[i] == section_n) ind = i;
				}
				if(ind != -1) $(more_section_id).css("height", more_section_heights[ind]);
			}
			else {
				$(more_section_id).css("height", "0px");
			}
		});
		
		
		var is_mouse_down = false;
		var mouse_position = new Object();
		$("*").mousedown(function(event) {
			mouse_position.x = event.pageX;
			mouse_position.y = event.pageY;
			is_mouse_down = true;
		})
		.mouseup(function(event) {
			is_mouse_down = false;
		})
		.mousemove(function(event) {
			mouse_position.x = event.pageX;
			mouse_position.y = event.pageY;
		});
		
		function Bubble(x, y, speed, angle, accel_speed, accel_angle, radius) {
			this.x = x;
			this.y = y;
			this.speed = speed;
			this.angle = angle;
			this.accel_speed = accel_speed;
			this.accel_angle = accel_angle;
			this.radius = radius;
		}

		function generateBubble(at_top, position) {
			if(position == null) {
				radius = Math.random()*50 + 20;
				position = new Object();
				position.x = Math.random() * canvas.width;
				if(at_top) position.y = getHeaderHeight() - radius - 5;
				else position.y = Math.random() * canvas.height;
			}
			else {
				radius = Math.random()*20 + 10;
			}
			var speed = Math.random()*0.5 + 0.25;
			var angle = Math.random()*Math.PI/2 + Math.PI*5/4;
			var accel_speed = 0;
			var accel_angle = 0;
			bubbles.push(new Bubble(position.x, position.y, speed, angle, accel_speed, accel_angle, radius));
		}
		
		window.requestAnimFrame = (function(callback) {
			return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
			function(callback) {
				window.setTimeout(callback, 1000 / 60);
			};
		})();
		
		function animate() {
			//update scroll
			update_scroll();
			
			// update
			var now = new Date().getTime();
	        var dt = now - (t || now);		 
		    t = now;
		    
			var new_bubble_rate = 0.0125;
		    
			if(Math.random()<new_bubble_rate) generateBubble(true);
			if(!is_mobile && is_mouse_down) {
				generateBubble(false, mouse_position);
			}

	
			// clear
			context.save();
			context.setTransform(1, 0, 0, 1, 0, 0);
			context.clearRect(0, 0, canvas.width, canvas.height);
			context.restore();
			
			if(!is_mobile && mouse_position != null) {
				context.beginPath();
				context.arc(mouse_position.x, mouse_position.y, 25, 0, 2*Math.PI);
				context.closePath();
				context.strokeStyle = "rgba(128, 218, 255, 0.7)";
				context.stroke();
			}
			
			context.strokeStyle = "rgba(128, 218, 255, 0.9)";
			for(var i = 0; i < bubbles.length; i++) {
				var bubble = bubbles[i];
				context.beginPath();
				context.arc(bubble.x, bubble.y, bubble.radius, 0, 2*Math.PI);
				context.closePath();
				context.stroke();
				
				bubble.x += bubble.speed * Math.cos(bubble.angle);
				bubble.y -= bubble.speed * Math.sin(bubble.angle);
				
				bubble.speed += bubble.accel_speed;
				bubble.angle += bubble.accel_angle;
				
				if(bubble.x < -bubble.radius-6 || bubble.x > canvas.width+bubble.radius+6 ||
					bubble.y < -bubble.radius-6 || bubble.y > canvas.height+bubble.radius+6) {
					bubbles.splice(i, 1);
					i--;
				}
			}
	
			// request new frame
			requestAnimFrame(animate);
		}
		animate();
		
		
		/*
		 * jQuery function to check if element is visible
		 */
		(function($) {
			  /**
			   * Copyright 2012, Digital Fusion
			   * Licensed under the MIT license.
			   * http://teamdf.com/jquery-plugins/license/
			   *
			   * @author Sam Sehnert
			   * @desc A small plugin that checks whether elements are within
			   *     the user visible viewport of a web browser.
			   *     only accounts for vertical position, not horizontal.
			   */
			
			  $.fn.visible = function(partial) {
			    
			      var $t            = $(this),
			          $w            = $(window),
			          viewTop       = $w.scrollTop(),
			          viewBottom    = viewTop + $w.height(),
			          _top          = $t.offset().top,
			          _bottom       = _top + $t.height(),
			          compareTop    = partial === true ? _bottom : _top,
			          compareBottom = partial === true ? _top : _bottom;
			    
			    return ((compareBottom <= viewBottom) && (compareTop >= viewTop));
			
			  };
			    
			})(jQuery);
	</script>

</body>

</html>
